<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./companyStyle.css">
    <title>Document</title>
</head>
<body>
    
    <div class="container-fluid m-0 p-0 d-flex flex-column h-100">
        <div class="row m-0 p-0">
            <div class="col-12 m-0 p-0">
                <div class="container-fluid m-0 p-0 d-flex flex-column align-items-center">
                    <div class="row m-0 p-0">
                        <h1>Shushu The Conquerer LLC</h1>
                    </div>
                    <div class="row m-0 p-0">
                        <h4>Welcome peasants! I will teach you how to invest.</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 m-0 p-0 d-flex justify-content-center">
                        <div id="loader" class="spinner-border d-none my-spinner" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row m-0 p-0 h-100">
            <div id="comp1" class="col-6 m-0 p-0 h-100">
                <div class="container-fluid m-0 p-0 h-100 d-flex flex-column justify-content-between">
                    <div class="row m-0 p-0">
                        <div class="col-12 m-0 p-0">
                            <div>
                                <a id="compLink" href="">
                                    <img id="compImage" src="">
                                    <h2 id="header"></h2>
                                </a>
                                <h1 id="header-price"></h1>

                            </div>
                        </div>
                    </div>
                    <div class="row m-0 p-0">
                        <p id="description"></p>
                    </div>
                    <div class="row m-0 p-0">
                        <div class="col-12 m-0 p-0">
                            <div class="container-fluid m-0 p-0">
                                <div class="row m-0 p-0">
                                    <div class="col-12 m-0 p-0" >
                                        <canvas id="myChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="comp2" class="col-6 m-0 p-0">
                <div class="container-fluid m-0 p-0 h-100 d-flex flex-column justify-content-between">
                    <div class="row m-0 p-0">
                        <div class="col-12 m-0 p-0">
                            <div>
                                <a id="compLink1" href="">
                                    <img id="compImage1" src="">
                                    <h2 id="header1"></h2>
                                </a>
                                <h1 id="header-price1"></h1>

                            </div>
                        </div>
                    </div>
                    <div class="row m-0 p-0">
                        <p id="description1"></p>
                    </div>
                    <div class="row m-0 p-0">
                        <div class="col-12 m-0 p-0">
                            <div class="container-fluid m-0 p-0">
                                <div class="row m-0 p-0">
                                    <div class="col-12 m-0 p-0" >
                                        <canvas id="myChart1"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="comp3" class='d-none'>
                <div class="container-fluid m-0 p-0 h-100 d-flex flex-column justify-content-between">
                    <div class="row m-0 p-0">
                        <div class="col-12 m-0 p-0">
                            <div>
                                <a id="compLink2" href="">
                                    <img id="compImage2" src="">
                                    <h2 id="header2"></h2>
                                </a>
                                <h1 id="header-price2"></h1>

                            </div>
                        </div>
                    </div>
                    <div class="row m-0 p-0">
                        <p id="description2"></p>
                    </div>
                    <div class="row m-0 p-0">
                        <div class="col-12 m-0 p-0">
                            <div class="container-fluid m-0 p-0">
                                <div class="row m-0 p-0">
                                    <div class="col-12 m-0 p-0" >
                                        <canvas id="myChart2"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="./api.js"></script>
    <script src="./CompanyClass.js"></script>
    <script>
        (function (){
            const params = new URLSearchParams(location.search);
            const symbol = params.get('symbols');
            const companyOne = document.getElementById(`comp1`);
            const companyTwo = document.getElementById(`comp2`);
            const companyThree = document.getElementById(`comp3`);
            let arrayCompare = [];
            let compareArray = symbol.split(",");
            for(let i = 0; i < compareArray.length; i++){
                if(i === 0){
                    arrayCompare[i] = new Company(compareArray[i]);
                } else {
                    arrayCompare[i] = new Company(compareArray[i], i);
                }
            }
            if(arrayCompare.length === 3){
                companyOne.classList.remove(`col-6`);
                companyOne.classList.add(`col-4`);
                companyTwo.classList.remove(`col-6`);
                companyTwo.classList.add(`col-4`);
                companyThree.classList.remove(`d-none`);
                companyThree.classList.add(`col-4`);
                companyThree.classList.add(`m-0`);
                companyThree.classList.add(`p-0`);
            }
        })();
    </script>
</body>
</html>